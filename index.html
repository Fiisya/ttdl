<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TikTok Downloader</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Poppins', sans-serif;
      background-color: #f5f5f5;
      color: #fff;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    .container {
      background-color: #0056ff;
      padding: 30px;
      width: 100%;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }
    .logo {
      margin-bottom: 15px;
      font-size: 2rem;
      font-weight: 600;
      color: #fff;
    }
    h1 {
      font-size: 1.8rem;
      margin-bottom: 10px;
      font-weight: 600;
    }
    p {
      font-size: 1rem;
      margin-bottom: 20px;
      color: #f1f1f1;
    }
    .input-group {
      display: flex;
      gap: 10px;
      margin-bottom: 15px;
      max-width: 500px;
      width: 100%;
    }
    input {
      flex: 1;
      padding: 12px;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      background-color: #fff;
      color: #333;
    }
    .paste-btn {
      padding: 12px 20px;
      background-color: #e0e7ff;
      border: none;
      border-radius: 8px;
      color: #0056ff;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.3s;
    }
    .paste-btn:hover {
      background-color: #d1d9ff;
    }
    .download-btn {
      width: 100%;
      max-width: 500px;
      padding: 15px;
      background-color: #00c853;
      border: none;
      border-radius: 8px;
      color: #fff;
      font-weight: 600;
      font-size: 1.1rem;
      cursor: pointer;
      transition: background 0.3s;
    }
    .download-btn:hover {
      background-color: #00b046;
    }
    #loading {
      font-size: 1rem;
      margin-top: 10px;
      animation: blink 1s infinite;
    }
    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }
    #result {
      margin-top: 20px;
      max-width: 500px;
      width: 100%;
    }
    video {
      width: 100%;
      margin-top: 10px;
      border-radius: 10px;
      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.3);
    }
    .description, .qna {
      max-width: 500px;
      width: 100%;
      margin-top: 40px;
      text-align: left;
    }
    .description h2, .qna h2 {
      font-size: 1.5rem;
      margin-bottom: 15px;
      color: #fff;
    }
    .description p {
      font-size: 0.9rem;
      line-height: 1.6;
    }
    .qna .question {
      font-weight: 600;
      margin-bottom: 5px;
      font-size: 1rem;
    }
    .qna .answer {
      font-size: 0.9rem;
      margin-bottom: 20px;
      color: #f1f1f1;
      line-height: 1.6;
    }
    footer {
      text-align: center;
      padding: 20px;
      font-size: 14px;
      color: #999;
      background-color: #f5f5f5;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="logo">TikTok Downloader</div>
    <h1>Download video TikTok</h1>
    <p>Tiktok Downloader Tanpa Watermark. Cepat. Semua perangkat</p>
    <div class="input-group">
      <input type="text" id="urlInput" placeholder="Tempel tautan TikTok di sini" />
      <button class="paste-btn" onclick="pasteLink()">Tempel</button>
    </div>
    <button class="download-btn" onclick="download()">Download</button>

    <div id="result"></div>
    <div id="loading" style="display:none;">Loading...</div>

    <div class="description">
      <h2>Tentang TikTok Downloader</h2>
      <p>TikTok Downloader adalah alat gratis untuk mengunduh video TikTok tanpa watermark. Dengan antarmuka yang sederhana dan cepat, Anda dapat menyimpan video favorit Anda langsung ke perangkat dalam beberapa klik. Kami mendukung semua perangkat, termasuk ponsel, tablet, dan komputer, tanpa perlu menginstal aplikasi tambahan.</p>
    </div>

    <div class="qna">
      <h2>Pertanyaan Umum (Q&A)</h2>
      <div class="question">Apa itu TikTok Downloader?</div>
      <div class="answer">TikTok Downloader adalah layanan online yang memungkinkan Anda mengunduh video TikTok tanpa watermark dengan cepat dan mudah.</div>

      <div class="question">Apakah TikTok Downloader gratis?</div>
      <div class="answer">Ya, TikTok Downloader sepenuhnya gratis untuk digunakan. Tidak ada biaya tersembunyi atau langganan yang diperlukan.</div>

      <div class="question">Bagaimana cara menggunakan TikTok Downloader?</div>
      <div class="answer">Cukup salin tautan video TikTok, tempelkan di kolom yang tersedia, lalu klik tombol "Download". Video akan diunduh tanpa watermark.</div>
    </div>
  </div>

  <footer>
    © 2025 AlfixD. All rights reserved.
  </footer>

  <script>
    async function pasteLink() {
      try {
        const text = await navigator.clipboard.readText();
        document.getElementById("urlInput").value = text;
      } catch {
        alert("Gagal mengakses clipboard!");
      }
    }

    async function download() {
      const url = document.getElementById("urlInput").value;
      if (!url) return alert("Masukkan URL TikTok!");

      const loading = document.getElementById("loading");
      const result = document.getElementById("result");
      loading.style.display = "block";
      result.innerHTML = "";

      try {
        const apiUrl = `https://api.alfixd.my.id/api/ttdl?url=${encodeURIComponent(url)}`;
        const res = await fetch(apiUrl);
        const data = await res.json();
        loading.style.display = "none";

        if (data.status === 200 && data.download_links.length) {
          const mediaHtml = data.download_links.map(link => {
            const isImage = /\.(jpeg|jpg|png|webp)/i.test(link.url);
            const isAudio = /\.mp3/i.test(link.url);
            if (isImage) {
              return `<img src="${link.url}" alt="Photo Mode" style="max-width:100%; border-radius:10px; margin-bottom:10px;" loading="lazy" />`;
            } else if (isAudio) {
              return `<audio controls src="${link.url}" style="width:100%; margin-bottom:10px;"></audio>`;
            } else {
              return `<video controls src="${link.url}" style="width:100%; border-radius:10px; margin-bottom:10px;"></video>`;
            }
          }).join("");

          result.innerHTML = `<p>✅ Media berhasil didapatkan:</p>${mediaHtml}`;
        } else {
          result.innerHTML = `<p style="color: #ff4c4c;">Tidak ada media ditemukan.</p>`;
        }
      } catch (err) {
        loading.style.display = "none";
        result.innerHTML = `<p style="color: #ff4c4c;">Terjadi kesalahan saat mengambil data.</p>`;
      }
    }
  </script>
</body>
</html>
